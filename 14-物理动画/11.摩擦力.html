<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>14-11摩擦力</title>
    <style>
        .tips {
            color: #999;
        }
        p span {
            color: red;
        }
        .mr-10 {
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div style="display:flex;text-align: center;">
        <div class="mr-10">
            <canvas id="canvas" width="200" style="border: 1px dashed gray;"></canvas>
            <p>物体沿着水平方向有摩擦力</p>
        </div>
        <div class="mr-10">
            <canvas id="canvas1" width="200" style="border: 1px dashed gray;"></canvas>
            <p>物体沿着任意方向运动</p>
        </div>
    </div>
    <h3>摩擦力</h3>
    <p>指的是阻碍物体相对运动的力。其中摩擦力的方向与物体相对运动的方向相反。</p>
    <p>摩擦力只会改变速度的大小而不会改变运动的方向。即：摩擦力只能将物体的速度降为0</p>
    <h4>语法</h4>
    <p>vx *= friction</p>
    <p>vy *= friction</p>
    <p>x += vx</p>
    <p>y += vy</p>
    <p class="tips">任意方向的话，分解的不是摩擦力而是速度。</p>

    <script src="../assets/js/tool.js"></script>
    <script src="../assets/js/ball.js"></script>
    <script type="text/javascript">
        function $$(id) {
            return document.getElementById(id);
        }

        window.onload = function() {
            const cnv = $$('canvas');
            const cxt = cnv.getContext('2d');

            const ball = new Ball(0, cnv.height / 2);
            let vx = 8;
            const friction = 0.95;
            let vy = -5;
            const gravity = 0.2;

            (function drawFrame() {
                window.requestAnimationFrame(drawFrame);
                clearCanvas(cnv);

                ball.x += vx;
                ball.fill(cxt);

                vx *= friction;
            })();

            const cnv1 = $$('canvas1');
            const cxt1 = cnv1.getContext('2d');

            const ball1 = new Ball();
            const speed = 8;
            const angle = 30;
            let vx1 = speed * Math.cos(angle * Math.PI / 180);
            let vy1 = speed * Math.sin(angle * Math.PI / 180);


            (function drawFrame1() {
                window.requestAnimationFrame(drawFrame1);
                clearCanvas(cnv1);

                ball1.x += vx1;
                ball1.y += vy1;
                ball1.fill(cxt1);

                vx1 *= friction;
                vy1 *= friction;
            })();
        }
    </script>
</body>
</html>