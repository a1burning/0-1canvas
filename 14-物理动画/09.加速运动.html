<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>14-09加速运动</title>
    <style>
        .tips {
            color: #999;
        }
        p span {
            color: red;
        }
        .mr-10 {
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div style="display:flex;text-align: center;">
        <div class="mr-10">
            <canvas id="canvas" width="200" style="border: 1px dashed gray;"></canvas>
            <p>水平匀加速运动</p>
        </div>
        <div  class="mr-10">
            <canvas id="canvas1" width="200" style="border: 1px dashed gray;"></canvas>
            <p>先匀减速，后反方向匀加速</p>
        </div>
        <div>
            <canvas id="canvas2" width="200" style="border: 1px dashed gray;"></canvas>
            <p>加速度的合成和分解</p>
        </div>
    </div>
    <h3>加速运动</h3>
    <p>指的是方向相同，速度大小变化的运动。速度递增是加速运动，速度递减是减速运动。</p>
    <p>加速分为：匀加速运动和变加速运动。</p>
    <p>加速度：指的是单位时间内速度改变的矢量。</p>
    <h4>语法</h4>
    <p>vx += ax</p>
    <p>vy += ay</p>
    <p>x += vx</p>
    <p>y += vy</p>
    <ul>
        <li>x，y：物体的坐标</li>
        <li>vx，vy：x，y轴方向的速度</li>
        <li>ax，ay：x，y轴方向的加速度</li>
    </ul>
    <h3>加速度的合成和分解</h3>
    <p>对于加速运动，分解的是加速度，而不是速度。</p>
    <h4>语法</h4>
    <p>ax = a * Math.cos(angle * Math.PI / 180)</p>
    <p>ay = a * Math.sin(angle * Math.PI / 180)</p>
    <p>vx += ax</p>
    <p>vy += ay</p>
    <p>x += vx</p>
    <p>y += vy</p>
    <ul>
        <li>x，y：物体的坐标</li>
        <li>vx，vy：x，y轴方向的速度</li>
        <li>ax，ay：x，y轴方向的加速度</li>
        <li>angle：加速度方向与x轴的夹角</li>
    </ul>

    <script src="../assets/js/tool.js"></script>
    <script src="../assets/js/ball.js"></script>
    <script type="text/javascript">
        function $$(id) {
            return document.getElementById(id);
        }

        window.onload = function() {
            const cnv = $$('canvas');
            const cxt = cnv.getContext('2d');

            const ball = new Ball(0, cnv.height / 2);
            let vx = 0;
            const ax = 0.2;

            (function drawFrame() {
                window.requestAnimationFrame(drawFrame);
                clearCanvas(cnv);

                ball.x += vx;
                ball.fill(cxt);

                vx += ax;
            })();

            const cnv1 = $$('canvas1');
            const cxt1 = cnv1.getContext('2d');

            const ball1 = new Ball(0, cnv.height / 2);
            let vx1 = 8;
            const ax1 = -0.2;

            (function drawFrame1() {
                window.requestAnimationFrame(drawFrame1);
                clearCanvas(cnv1);

                ball1.x += vx1;
                ball1.fill(cxt1);

                vx1 += ax1;
            })();

            const cnv2 = $$('canvas2');
            const cxt2 = cnv2.getContext('2d');

            const ball2 = new Ball();
            const a2 = 0.2;
            const angle2 = 30;
            const ax2 = a2 * Math.cos(angle2 * Math.PI / 180);
            const ay2 = a2 * Math.sin(angle2 * Math.PI / 180);
            let vx2 = 0;
            let vy2 = 0;

            (function drawFrame2() {
                window.requestAnimationFrame(drawFrame2);
                clearCanvas(cnv2);

                ball2.x += vx2;
                ball2.y += vy2;
                ball2.fill(cxt2);

                vx2 += ax2;
                vy2 += ay2;
            })();
        }
    </script>
</body>
</html>