<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>14-07匀速运动</title>
    <style>
        .tips {
            color: #999;
        }
        p span {
            color: red;
        }
        .mr-10 {
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div style="display:flex;text-align: center;">
        <div class="mr-10">
            <canvas id="canvas" width="200" style="border: 1px dashed gray;"></canvas>
            <p>水平匀速运动</p>
        </div>
        <div>
            <canvas id="canvas1" width="200" style="border: 1px dashed gray;"></canvas>
            <p>任意方向匀速运动</p>
        </div>
    </div>
    <p id="text"></p>
    <h3>匀速运动</h3>
    <p>又称为“匀速直线运动”，指的是物体在一条直线上运动，并且在单位时间内移动的距离是相等的。</p>
    <p>匀速运动需要具备的两个条件：</p>
    <ul>
        <li>速度大小相同</li>
        <li>速度方向相同</li>
    </ul>
    <h3>语法</h3>
    <p>x += vx</p>
    <p>y += vy</p>
    <ul>
        <li>x：物体x坐标</li>
        <li>y：物体y坐标</li>
        <li>vx：x轴方向的速度</li>
        <li>vy：y轴方向的速度</li>
    </ul>
    <p class="tips">速度是有正反方向之分的，我们可以使用正数来表示正方向，负数表示负方向。</p>
    <h3>速度的合成与分解</h3>
    <p>如果物体不是按照坐标轴方向运动，那么就需要用到速度的合成和分解。将当前速度分解成x轴和y轴方向的分速度，需要用到三角函数。</p>
    <h3>语法</h3>
    <p>vx += speed * Math.cos(angle + Math.PI / 180)</p>
    <p>vy += speed * Math.sin(angle + Math.PI / 180)</p>
    <p>x += vx</p>
    <p>y += vy</p>
    <ul>
        <li>x：物体x坐标</li>
        <li>y：物体y坐标</li>
        <li>vx：x轴方向的速度</li>
        <li>vy：y轴方向的速度</li>
        <li>speed：任意方向速度大小</li>
        <li>angle：任意方向速度与x轴正向的夹角</li>
    </ul>

    <script src="../assets/js/tool.js"></script>
    <script src="../assets/js/ball.js"></script>
    <script type="text/javascript">
        function $$(id) {
            return document.getElementById(id);
        }

        window.onload = function() {
            const cnv = $$('canvas');
            const cxt = cnv.getContext('2d');

            const ball = new Ball(0, cnv.height / 2);
            const vx = 2;

            (function drawFrame() {
                window.requestAnimationFrame(drawFrame);
                clearCanvas(cnv);

                ball.x += vx;
                ball.fill(cxt);
            })();

            const cnv1 = $$('canvas1');
            const cxt1 = cnv1.getContext('2d');

            const ball1 = new Ball();
            const speed = 2;
            const angle = 30;
            const vx1 = speed * Math.cos(angle * Math.PI / 180);
            const vy1 = speed * Math.sin(angle * Math.PI / 180);

            (function drawFrame1() {
                window.requestAnimationFrame(drawFrame1);
                clearCanvas(cnv1);

                ball1.x += vx1;
                ball1.y += vy1;
                ball1.fill(cxt1);
            })();
        }
    </script>
</body>
</html>